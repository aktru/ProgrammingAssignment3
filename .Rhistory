if (grep("attack", outcome, ignore.case = TRUE) > 0) {
fColName <- "Attack"
cf <- colnames(data[11])
}
if (grep("failure", outcome, ignore.case = TRUE) > 0) {
fColName <- "Failure"
cf <- colnames(data[17])
}
}
if (grep("pneumonia", outcome, ignore.case = TRUE) > 0) {
fColName <- "Pneumonia"
cf <- colnames(data[23])
}
# filter data containing 3 columns:
# - hospital name,
# - death rate based on outcome, and
# - state (useful for rankall function)
columns <- c(c1,c2.cf)
# re-assign data frame with only 3 columns
data2 <- subset(data, select = columns)
# convert death rate (column 2) to numeric
##
# remove rows with NAs in column 2
##...
# stop on invalid state - no rows in data
##...
# return data
##...
}
getDataByOutcome <- function(outcomeV) {
## Read data from csv file
data <- read.csv("outcome-of-care-measures.csv", colClasses="character")
c1 <- colnames(data[2])
c2 <- colnames(data[7])
if (grep("heart"), outcome, ignore.case = TRUE) > 0) {
if (grep("attack", outcome, ignore.case = TRUE) > 0) {
fColName <- "Attack"
cf <- colnames(data[11])
}
if (grep("failure", outcome, ignore.case = TRUE) > 0) {
fColName <- "Failure"
cf <- colnames(data[17])
}
}
if (grep("pneumonia", outcome, ignore.case = TRUE) > 0) {
fColName <- "Pneumonia"
cf <- colnames(data[23])
}
# filter data containing 3 columns:
# - hospital name,
# - death rate based on outcome, and
# - state (useful for rankall function)
columns <- c(c1,c2.cf)
# re-assign data frame with only 3 columns
data2 <- subset(data, select = columns)
# convert death rate (column 2) to numeric
##
# remove rows with NAs in column 2
##...
# stop on invalid state - no rows in data
##...
# return data
##...
}
source("getDataByOutcome.R")
source("getDataByOutcome.R")
t <- getDataByOutcome("heart attack")
source("getDataByOutcome.R")
t <- getDataByOutcome("heart attack")
t <- grep("failure", "heart attack", ignore.case = TRUE)
t <- grep("heart", "heart attack", ignore.case = TRUE)
t
class(t)
t <- grep("heart", "heart attack", ignore.case = TRUE)
t <- getDataByOutcome("heart attack")
t <- getDataByOutcome("heart attack")
source("getDataByOutcome.R")
t <- getDataByOutcome("heart attack")
t1 <- grep("failure", "heart attack", ignore.case = TRUE)
t1
t <- getDataByOutcome("heart attack")
source("getDataByOutcome.R")
t <- getDataByOutcome("heart attack")
source("getDataByOutcome.R")
t <- getDataByOutcome("heart attack")
head(t)
t <- getDataByOutcome("pneumania")
head(t)
t <- is.null(grep("pneumania", outcomeV, ignore.case = TRUE))
t <- is.null(grep("pneumania", "heart attack", ignore.case = TRUE))
head(t)
source("getDataByOutcome.R")
t <- getDataByOutcome("pneumania")
t <- getDataByOutcome("heart attack")
source("getDataByOutcome.R")
t <- getDataByOutcome("heart attack")
source("getDataByOutcome.R")
t <- getDataByOutcome("heart attack")
t <- is.null(grep("pneumania", "heart attack", ignore.case = TRUE))
t <- is.null(grep("heart", "heart attack", ignore.case = TRUE))
t <- grep("heart", "heart attack", ignore.case = TRUE)
t <- is.null(grep("heart", "heart attack", ignore.case = TRUE))
t <- !is.null(grep("heart", "heart attack", ignore.case = TRUE))
t <- !is.null(grep("failure", "heart attack", ignore.case = TRUE))
t <- grep("failure", "heart attack", ignore.case = TRUE)
invalid(t)
t <- is.defined(grep("failure", "heart attack", ignore.case = TRUE))
t <- is.null(grep("failure", "heart attack", ignore.case = TRUE))
t <- is.null(grep("heart", "heart attack", ignore.case = TRUE))
t <- exists(grep("failure", "heart attack", ignore.case = TRUE))
t <- exists("grep("failure", "heart attack", ignore.case = TRUE)")
source("getDataByOutcome.R")
t <- getDataByOutcome("heart attack")
head(t)
t <- getDataByOutcome("heart")
t <- getDataByOutcome("heart failure")
t <- getDataByOutcome("pneumania")
head(t)
source("getDataByOutcome.R")
t <- getDataByOutcome("pneumania")
t <- getDataByOutcome("pneumania")
t <- getDataByOutcome("pneumonia")
head(t)
source("getDataByOutcome.R")
t <- getDataByOutcome("pneumonia")
head(t)
source("getDataByOutcome.R")
t <- getDataByOutcome("pneumonia")
head(t)
source("getDataByOutcome.R")
t <- getDataByOutcome("pneumonia")
source("getDataByOutcome.R")
t <- getDataByOutcome("pneumonia")
head(t)
source("getDataByOutcome.R")
t <- getDataByOutcome("pneumonia")
head(t)
source("getDataByOutcome.R")
t <- getDataByOutcome("pneumonia")
head(t)
t <- getDataByOutcome("heart attack")
head(t)
t <- getDataByOutcome("heart failure")
head(t)
t[, 3] <- sapply(t[, 3], as.numeric)
warnings()
source("getDataByOutcome.R")
t <- getDataByOutcome("heart failure")
t[, 3] <- sapply(t[, 3], as.numeric)
View(t)
source("getDataByOutcome.R")
t <- getDataByOutcome("heart failure")
t[, 3] <- sapply(t[, 3], as.numeric)
View(t)
t <- t[!is.na(t[3]),]
View(t)
View(t)
source("getDataByOutcome.R")
t <- getDataByOutcome("heart failure")
View(t)
View(outcome)
source("getDataByOutcome.R")
t <- getDataByOutcome("heart failure")
View(t)
t[, 3] <- sapply(t[, 3], as.numeric)
t <- getDataByOutcome("heart attack")
View(t)
t <- getDataByOutcome("pneumonia")
View(t)
source("getDataByOutcome.R")
t <- getDataByOutcome("pneumonia")
class(names(t))
class(names(t[3]))
class(names(t[2]))
class(names(t[1,2,3]))
class(names(t[1,2,3]))
class(names(t[]))
View(t)
source("best.R")
t <- best("pneumonia")
source("best.R")
t <- best("pneumonia")
t <- best("BB","pneumonia")
t
class(t)
head(t)
t <- lapply(t, function(x) order(t[3]))
t
t <- best("BB","pneumonia")
t <- lapply(t, function(x) order(t$Pneumonia))
t <- lapply(t, function(x) t[order(t$Pneumonia), ])
t <- lapply(t, function(x) t[order(t[3]), ])
?order
t <- lapply(t, function(df) df[order(df[3]), ])
t <- best("BB","pneumonia")
t <- lapply(t, function(df) df[order(df[3]), ])
t[1]
t[1,1]
t[1,t[1]]
t[1,1
t[1,1
t1 <- t[1]
t1[1]
tt <- t1[1:4]
tt <- t1[1,1]
class(t1)
head(t1,1)
head(t1, n=1)
head(t1, n=1L)
tnew <- t1$AK
View(tnew)
tnew <- t1$CA
t <- best("BB","pneumonia")
t <- lapply(t, function(df) df[order(df[3]), ])
tnew <- t$AK
View(tnew)
tnew <- t$AR
View(tnew)
class(tnew)
tnew <- t$FF
tnew <- t$AR
hosp <- tnew[1,1]
hosp
tnew <- t$FF
if (is.null(tnew)) {print("tt")}
tnew <- t$AR
if (is.null(tnew)) {print("tt")}
source("best.R")
t <- best("AR","pneumonia")
t
t <- best("AR","heart attack")
source("best.R")
t <- best("AR","heart attack")
t <- best("BB","heart attack")
source("best.R")
t <- best("BB","heart attack")
t <- best("AR","heart attack")
t <- best("AK","heart attack")
source("best.R")
t <- best("AK","heart attack")
source("best.R")
t <- best("AK","heart attack")
source("best.R")
t <- best("AK","heart attack")
t
k <- AR
k <- "AR"
tnew <- t$k
tnew <- t$eval(k)
tnew <- t$quote(k)
tnew <- t[,eval(k)]
tnew <- t[eval(k)]
k <- "BB"
tnew <- t[eval(k)]
source("best.R")
t <- best("AK","heart attack")
source("best.R")
t <- best("AK","heart attack")
t <- best("FF","heart attack")
is.null(етуц)
is.null(tnew)
source("best.R")
t <- best("FF","heart attack")
source("best.R")
t <- best("AK","heart attack")
t <- best("AR","heart attack")
class(t)
t <- best("FF","heart attack")
t <- best("FF","heart attack")
source("best.R")
t <- best("FF","heart attack")
?lapply
source("best.R")
t <- best("AR","heart attack")
x <- t[1,1]
class(t)
x <- t[1,]
x <- t[,1]
t[[1]]
t[[1,1]]
sapply(t, '[', 1)
t[[1]]
t[[1]][1]
t[[1]][1,1]
source("best.R")
t <- best("AR","heart attack")
t <- best("FF","heart attack")
source("best.R")
t <- best("FF","heart attack")
source("best.R")
t <- best("FF","heart attack")
source("best.R")
t <- best("FF","heart attack")
source("best.R")
t <- best("FF","heart attack")
t <- best("AR","heart attack")
t
best("TX","heart attack")
best("TX","heart failure")
best("MD","heart attack")
best("MD","pneumonia")
best("BB","heart attack")
best("NY","hert attack")
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript3.R")
submit
submit()
submit()
submit()
View(outcome)
outcome2 <- split(outcome, outcome$State)
outcome3 <- outcome2["AR"]
outcome3 <- outcome2["TX"]
outcome3
source("best.R")
best("TX","heart attack")
source("best.R")
best("TX","heart attack")
source("rankhospital.R")
rankhospital("TX","heart attack")
rankhospital("TX","heart failure")
rankhospital("MD","heart attack")
rankhospital("TX","heart failure")
rankhospital("TE","heart failure")
temp <- rankhospital("TX","heart failure")
temp
source("rankhospital.R")
temp <- rankhospital("TX","heart failure")
class(temp)
temp2 <- as.data.frame(temp)
temp2
source("rankhospital.R")
temp <- rankhospital("TX","heart failure")
temp <- temp[with(temp, order("Failure","Hospital.Name")),]
View(temp)
temp <- with(temp, order("Failure","Hospital.Name"))
temp <- rankhospital("TX","heart failure")
temp <- temp[with(temp, order(3,1)),]
temp <- rankhospital("TX","heart failure")
temp <- temp[order(temp[,3],temp[,1]),]
View(temp)
temp[1,1]
nrow(temp)
xx <- temp[1,294]
xx <- temp[294,1]
xx <- temp[nrow(temp),1]
xx <- temp[5000,1]
xx
source("rankhospital.R")
temp <- rankhospital("TX","heart failure")
temp <- rankhospital("TX","heart failure",4)
rankhospital("TX","heart failure",4)
rankhospital("TX","heart failure",4)
rankhospital("MD","heart attack","worst")
rankhospital("MN","heart attack",5000)
rankhospital("MN","heart attack","best")
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript3.R")
submit()
submit()
submit()
submit()
source("rankhospital.R")
rankhospital("MD","heart attack","worst")
rankhospital("TX","heart failure",4)
source("rankall.R")
source("rankall.R")
rankall("heart failure")
source("rankall.R")
rankall("heart failure")
source("rankall.R")
rankall("heart failure")
source("rankall.R")
rankall("heart failure")
source("rankall.R")
temp <- rankall("heart failure")
length(temp[1])
length(temp[6])
length(temp[AK])
length(temp["AK"])
temp
length(temp$State)
length(temp[1])
length(temp[1,1])
length(temp[1](1,1))
length(temp[1](1,))
?lapply
class(temp[1])
source("rankall.R")
rankall("heart failure")
source("rankall.R")
rankall("heart failure")
source("rankall.R")
temp <- rankall("heart failure")
temp2 <- as.data.frame(temp[1])
temp3 <- as.data.frame(temp[2])
nrow(temp2)
nrow(temp3)
source("rankall.R")
rankall("heart failure")
source("rankall.R")
rankall("heart failure")
source("rankall.R")
rankall("heart failure")
source("rankall.R")
rankall("heart failure")
source("rankall.R")
source("rankall.R")
rankall("heart failure")
source("rankall.R")
rankall("heart failure")
?rbind
source("rankall.R")
rankall("heart failure")
source("rankall.R")
rankall("heart failure")
source("rankall.R")
rankall("heart failure")
class(rankall("heart failure"))
source("rankall.R")
rankall("heart failure")
source("rankall.R")
rankall("heart failure")
rankall("heart attack",20)
source("rankall.R")
rankall("heart attack",20)
rankall("pneumonia","worst")
rankall("heart failure")
source("rankall.R")
rankall("heart failure")
source("rankall.R")
rankall("heart failure")
source("rankall.R")
rankall("heart failure")
t <- rankall("heart failure")
t <- rankall("heart attack")
View(t)
t <- rankall("heart failure")
View(t)
t <- rankall("heart attack",20)
View(t)
source("rankall.R")
t <- rankall("heart attack",20)
t[[1]]
t[[1]][,1]
t[[1]][,2]
t[[1]][1,2]
t[[1]][1,]
t[[1]][1,2]
t[[1]][2,1]
t[[1]][20,1]
t[[1]][20,2]
t[[1]][20,3]
t[[1]][20,1]
source("rankall.R")
t <- rankall("heart attack",20)
t
source("rankall.R")
t <- rankall("heart attack",20)
source("rankall.R")
t <- rankall("heart attack",20)
source("rankall.R")
t <- rankall("heart attack",20)
View(t)
t(2,2)
t[2,2]
t[2,3]
t[3,2]
source("rankall.R")
t <- rankall("heart attack",20)
t
t <- rankall("pneumonia")
t
t <- rankall("pneumonia","worst")
t
tail(rankall("pneumonia", "worst"),3)
tail(rankall("heart failure"), 10)
head(rankall("heart attack", 20), 10)
t <- rankall("heart attack",20)
t
?rowname
?rownames
new.variable <- t$State
rownames(t) <- new.variable
t
source("rankall.R")
head(rankall("heart attack", 20), 10)
source("rankall.R")
tail(rankall("pneumonia", "worst"),3)
t <- rankall("pneumonia", "worst")
View(t)
t <- t[!is.na(data2[3]),]
t <- t[!is.na(t[3]),]
source("rankall.R")
t <- rankall("pneumonia", "worst")
source("rankall.R")
t <- rankall("pneumonia", "worst")
source("rankall.R")
t <- rankall("pneumonia", "worst")
t
head(rankall("heart attack", 20), 10)
tail(rankall("pneumonia", "worst"), 3)
tail(rankall("heart failure"), 10)
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript3.R")
submit()
t <- rankall("pneumonia", "worst")
t
source("rankall.R")
tail(rankall("heart failure"), 10)
source("rankall.R")
tail(rankall("heart failure"), 10)
submit()
submit()
submit()
